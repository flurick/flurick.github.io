<!DOCYTPE html>
<meta charset="utf-8">
<title>flurick</title>


<style>

*{
	-transition-delay: 0.3s;
	-transition: 0.3s;
	padding: 0;
	margin: 0;
	box-sizing: border-box;
}

h1,h2,h3,h4,h5,h6{
	font-size: inherit;
	text-transform: uppercase;
}

.bg{
	height: 100%;
	width: 100%;
}

.ui-draggable-dragging{
	box-shadow: 10px 10px rgba(0,0,0,0.6);
	z-index: 20;
}

body{
	background: skyblue;
	height: 100%;
	width: 100%;
}

img{
	width: 500px;
	max-width: 100%;
}

.posts li{
	font-size: 10pt;
	overflow: scroll;
	width: 300px;
	height: 300px;
	border: 0;
	padding: 10px;
	display: inline-block;
	outline: 1px solid white;
	color: #000;
}

.posts li{
	background: wheat;
	color: rgba(0,0,0, 0.3);
}
.posts li:hover, .posts .mark{
	background: white;
	color: rgba(0,0,0, 1);
}

a{
	color: inherit;
}


#canvas{
	position: fixed;
	left:0;
	top:0;
	z-index: 999;
	pointer-events: none;
}
nav, .corner_move, .corner_resize{
	z-index: 999;
	position: fixed;
	background: rgba(255,255,255,0.8);
}
nav{
	top: 0;
	left: 0;
	padding: 15px;
	border-radius: 3px;
	margin: 3px;
	list-style: none;
	border-top: 2px solid white;
	border-bottom: 2px solid grey;
}
nav *{
	color: black;
	text-decoration: none;
	display: block;
}
.corner_move{
	font-size: 50px;
	width: 50px;
	height: 50px;
	bottom: 0;
	left: 0;
	border-radius: 0 100% 0 0;
}
.corner_resize{
	font-size: 50px;
	width: 50px;
	height: 50px;
	top: 0;
	right: 0;
	border-radius: 0 0 0 100%;
}
</style>


<canvas id="canvas" width="2000" height="2000"></canvas>
<nav><h1>Navigator</h1></nav>
<ul class=posts></ul>
<div class="corner_move"></div>
<div class="corner_resize"></div>

<script src="jq221.js"></script> 
<script src="jqu1114.js"></script>
<script type="text/javascript">

$(function(){
	
	files = ["cinc", "k", "krita", "draw", "smalltalk", "godot", "croquet"]
	for (let f of files){
		$(".posts").append( $("<li>"+f+"</li>").load(f+".html").attr("id",f) )
		//$("a").fadeOut()
		$("nav").append( $("<li><a href=#" +f+ ">" +f+ "</a></li>") )
	}

	$("#canvas").attr( "width", $(window).width() )
	$(".posts *").draggable() 
	$("nav").draggable() 
	$(".posts *").mousedown( function(){
		$(".posts *").css("z-index","0")
		$(this).css("z-index","10")
	})

	$("a").on({
		"mouseenter": function(){

			a = $(this).offset()
			id = $(this).attr("href")
			$(id).addClass("mark")
			b = $(id).offset()
			clear()
			line(a.left,a.top, b.left,b.top)

		},"mouseleave": function() {

			clear()
			$(id).removeClass("mark")
			
		}
	})

})

function line(ax,ay, bx,by){
	var x = window.pageXOffset
	var y = window.pageYOffset

	var canvas = document.getElementById("canvas")
	var ctx = canvas.getContext("2d")

	ctx.moveTo(ax-x, ay-y)
	ctx.lineTo(bx-x, by-y)
	ctx.stroke()
	//console.log(ax,ay, bx,by)
}

function clear(){
	var canvas = document.getElementById("canvas")
	var ctx = canvas.getContext("2d")

	ctx.clearRect(0,0, canvas.width,canvas.height)
	canvas.width = canvas.width //sorry
}

</script>
